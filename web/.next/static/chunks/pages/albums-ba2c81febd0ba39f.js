(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10],{4304:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/albums",function(){return s(7730)}])},7730:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(5893),a=s(1664),l=s.n(a),n=s(7076),i=s(770);function o(){var e;let{data:t,isLoading:s,error:a}=(0,i.Z)(),o=null!==(e=null==t?void 0:t.albums)&&void 0!==e?e:[];return(0,r.jsx)(n.Z,{title:"Albums - Redrawn",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-slate-900",style:{fontFamily:"'Playfair Display', serif"},children:"Your Albums"}),(0,r.jsx)("p",{className:"text-slate-600 mt-1",children:"Organize and share your photos"})]}),(0,r.jsxs)(l(),{href:"/albums/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Album"]})]}),s&&(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 animate-pulse",children:[(0,r.jsx)("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-4"}),(0,r.jsx)("div",{className:"h-4 bg-slate-200 rounded w-full mb-2"}),(0,r.jsx)("div",{className:"h-4 bg-slate-200 rounded w-2/3"})]},e))}),a&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:"Failed to load albums. Please try again."}),!s&&!a&&0===o.length&&(0,r.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl border border-dashed border-slate-300",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No albums yet"}),(0,r.jsx)("p",{className:"text-slate-600 mb-4",children:"Create your first album to start organizing photos."}),(0,r.jsx)(l(),{href:"/albums/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors",children:"Create Album"})]}),!s&&!a&&o.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>(0,r.jsxs)(l(),{href:"/albums/".concat(e.id),className:"group bg-white rounded-xl border border-slate-200 overflow-hidden hover:shadow-lg hover:border-slate-300 transition-all",children:[(0,r.jsx)("div",{className:"aspect-video bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center group-hover:from-slate-200 group-hover:to-slate-300 transition-colors",children:(0,r.jsx)("svg",{className:"w-12 h-12 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-slate-900 truncate",children:e.name}),e.is_public&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 flex-shrink-0",children:"Public"})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-slate-600 mt-1 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-slate-500",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(e.created_at).toLocaleDateString()]}),e.slug&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),e.slug]})]}),"staged"===e.status&&(0,r.jsxs)("div",{className:"mt-3 inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[(0,r.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Draft"]})]})]},e.id))})]})})}},7076:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(5893),a=s(9008),l=s.n(a),n=s(1664),i=s.n(n),o=s(1163),d=s(770);function c(e){var t;let{children:s,title:a="Redrawn"}=e,n=(0,o.useRouter)(),{data:c}=(0,d.FA)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:a})}),(0,r.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,r.jsx)("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)(i(),{href:"/dashboard",className:"flex items-center gap-2",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-slate-900",style:{fontFamily:"'Playfair Display', serif"},children:"Redrawn"})}),(0,r.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:[{href:"/dashboard",label:"Dashboard"},{href:"/albums",label:"Albums"},{href:"/themes",label:"Themes"}].map(e=>{let t=n.pathname.startsWith(e.href);return(0,r.jsx)(i(),{href:e.href,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(t?"bg-slate-100 text-slate-900":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"),children:e.label},e.href)})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 bg-amber-50 rounded-full border border-amber-200",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),(0,r.jsxs)("span",{className:"text-sm font-medium text-amber-900",children:[null!==(t=null==c?void 0:c.balance)&&void 0!==t?t:0," credits"]})]}),(0,r.jsx)(i(),{href:"/settings",className:"p-2 text-slate-500 hover:text-slate-700 rounded-lg hover:bg-slate-100",children:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})})}),(0,r.jsx)("main",{children:s})]})]})}},770:function(e,t,s){"use strict";s.d(t,{FA:function(){return f},HQ:function(){return h},Mw:function(){return l},Ni:function(){return a},QU:function(){return i},RE:function(){return o},V0:function(){return u},Z:function(){return r},pl:function(){return b}});let{useListAlbumsQuery:r,useGetAlbumQuery:a,useCreateAlbumMutation:l,useUpdateAlbumMutation:n,useDeleteAlbumMutation:i,useConfirmAlbumMutation:o,useListAlbumMembersQuery:d,useListPhotosQuery:c,useListAlbumPhotosQuery:u,useGetPhotoQuery:m,useCreatePhotoMutation:h,useUpdatePhotoMutation:x,useDeletePhotoMutation:p,useListThemesQuery:b,useGetThemeQuery:g,useGetCreditBalanceQuery:f,useListCreditTransactionsQuery:v}=s(4810).r.injectEndpoints({endpoints:e=>({listAlbums:e.query({query:()=>"/albums",providesTags:["Album"]}),getAlbum:e.query({query:e=>"/albums/".concat(e),providesTags:(e,t,s)=>[{type:"Album",id:s}]}),createAlbum:e.mutation({query:e=>({url:"/albums",method:"POST",body:e}),invalidatesTags:["Album"]}),updateAlbum:e.mutation({query:e=>{let{id:t,...s}=e;return{url:"/albums/".concat(t),method:"PUT",body:s}},invalidatesTags:(e,t,s)=>{let{id:r}=s;return[{type:"Album",id:r}]}}),deleteAlbum:e.mutation({query:e=>({url:"/albums/".concat(e),method:"DELETE"}),invalidatesTags:["Album"]}),confirmAlbum:e.mutation({query:e=>({url:"/albums/".concat(e,"/confirm"),method:"POST"}),invalidatesTags:(e,t,s)=>[{type:"Album",id:s}]}),listAlbumMembers:e.query({query:e=>"/albums/".concat(e,"/members")}),listPhotos:e.query({query:()=>"/photos",providesTags:["Photo"]}),listAlbumPhotos:e.query({query:e=>"/albums/".concat(e,"/photos"),providesTags:(e,t,s)=>{var r;return(null==e?void 0:null===(r=e.photos)||void 0===r?void 0:r.map(e=>({type:"Photo",id:e.id})))||[{type:"Photo",id:s}]}}),getPhoto:e.query({query:e=>"/photos/".concat(e),providesTags:(e,t,s)=>[{type:"Photo",id:s}]}),createPhoto:e.mutation({query:e=>({url:"/photos",method:"POST",body:e}),invalidatesTags:["Photo"]}),updatePhoto:e.mutation({query:e=>{let{id:t,...s}=e;return{url:"/photos/".concat(t),method:"PUT",body:s}},invalidatesTags:(e,t,s)=>{let{id:r}=s;return[{type:"Photo",id:r}]}}),deletePhoto:e.mutation({query:e=>({url:"/photos/".concat(e),method:"DELETE"}),invalidatesTags:["Photo"]}),listThemes:e.query({query:()=>"/themes",providesTags:["Theme"]}),getTheme:e.query({query:e=>"/themes/".concat(e),providesTags:(e,t,s)=>[{type:"Theme",id:s}]}),getCreditBalance:e.query({query:()=>"/credits/balance"}),listCreditTransactions:e.query({query:e=>{let{limit:t=20,offset:s=0}=e;return"/credits/transactions?limit=".concat(t,"&offset=").concat(s)}})})})},1163:function(e,t,s){e.exports=s(3035)}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=4304)}),_N_E=e.O()}]);