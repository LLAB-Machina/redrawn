(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{9347:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/albums/[id]",function(){return s(6502)}])},6502:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(5893),l=s(7294),a=s(1163),n=s(1664),o=s.n(n),i=s(7076),c=s(3935);function d(e){let{photo:t,photos:s,onClose:a,onNext:n,onPrev:o,hasNext:i,hasPrev:d}=e,u=(0,l.useCallback)(e=>{"Escape"===e.key&&a(),"ArrowRight"===e.key&&i&&n(),"ArrowLeft"===e.key&&d&&o()},[a,n,o,i,d]);if((0,l.useEffect)(()=>(document.addEventListener("keydown",u),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}),[u]),!t)return null;let h=s.findIndex(e=>e.id===t.id),m=s.length;return(0,c.createPortal)((0,r.jsxs)("div",{className:"fixed inset-0 z-50 bg-slate-950/95 flex items-center justify-center",onClick:a,children:[(0,r.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors z-10","aria-label":"Close",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),d&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),o()},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors z-10","aria-label":"Previous photo",children:(0,r.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors z-10","aria-label":"Next photo",children:(0,r.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,r.jsxs)("div",{className:"relative max-w-[90vw] max-h-[85vh] flex flex-col items-center",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"relative bg-slate-900 rounded-lg overflow-hidden min-w-[300px] min-h-[200px] flex items-center justify-center",children:[(0,r.jsx)("svg",{className:"w-24 h-24 text-slate-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"ready"!==t.status&&(0,r.jsx)("div",{className:"absolute inset-0 bg-slate-950/60 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-center",children:"processing"===t.status?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"w-8 h-8 text-blue-400 animate-spin mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"text-blue-400 font-medium",children:"Processing..."})]}):"error"===t.status?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-8 h-8 text-red-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("p",{className:"text-red-400 font-medium",children:"Processing failed"})]}):(0,r.jsx)("p",{className:"text-slate-400 font-medium capitalize",children:t.status})})})]}),(0,r.jsxs)("div",{className:"mt-4 text-center",children:[(0,r.jsx)("p",{className:"text-white font-medium truncate max-w-md",children:t.filename||"Untitled"}),(0,r.jsxs)("p",{className:"text-white/50 text-sm mt-1",children:[h+1," of ",m," • ",new Date(t.created_at).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,r.jsx)("button",{className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Download",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),(0,r.jsx)("button",{className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Apply theme",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),(0,r.jsx)("button",{className:"p-2 text-white/70 hover:text-red-400 hover:bg-white/10 rounded-lg transition-colors",title:"Delete",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]}),document.body)}var u=s(770);function h(){var e;let t=(0,a.useRouter)(),{id:s}=t.query,n="string"==typeof s?s:"",[c,h]=(0,l.useState)(!1),[m,x]=(0,l.useState)(null),{data:p,isLoading:v,error:g}=(0,u.Ni)(n,{skip:!n}),{data:b,isLoading:j}=(0,u.V0)(n,{skip:!n}),[f,{isLoading:w}]=(0,u.QU)(),[N,{isLoading:y}]=(0,u.RE)(),k=null==p?void 0:p.album,L=null!==(e=null==b?void 0:b.photos)&&void 0!==e?e:[],C=async()=>{try{await f(n).unwrap(),t.push("/albums")}catch(e){console.error("Failed to delete album:",e)}},M=async()=>{try{await N(n).unwrap()}catch(e){console.error("Failed to confirm album:",e)}},P=e=>x(e);return!n||v||j?(0,r.jsx)(i.Z,{children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-slate-200 rounded w-1/3 mb-4"}),(0,r.jsx)("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-8"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,r.jsx)("div",{className:"aspect-square bg-slate-200 rounded-lg"},e))})]})})}):g||!k?(0,r.jsx)(i.Z,{children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:"Album not found or you don't have access."}),(0,r.jsxs)(o(),{href:"/albums",className:"inline-flex items-center gap-2 mt-4 text-slate-600 hover:text-slate-900",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to albums"]})]})}):(0,r.jsxs)(i.Z,{title:"".concat(k.name," - Redrawn"),children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("nav",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[(0,r.jsx)(o(),{href:"/albums",className:"hover:text-slate-900",children:"Albums"}),(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,r.jsx)("span",{className:"text-slate-900 truncate max-w-xs",children:k.name})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-slate-900",style:{fontFamily:"'Playfair Display', serif"},children:k.name}),k.is_public&&(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Public"}),"staged"===k.status&&(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"Draft"})]}),k.description&&(0,r.jsx)("p",{className:"text-slate-600",children:k.description}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[(0,r.jsxs)("span",{children:[L.length," photo",1!==L.length?"s":""]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Created ",new Date(k.created_at).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["staged"===k.status&&(0,r.jsxs)("button",{onClick:M,disabled:y,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 transition-colors",children:[y?(0,r.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Publish"]}),(0,r.jsxs)(o(),{href:"/albums/".concat(n,"/upload"),className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Photos"]}),(0,r.jsx)("button",{onClick:()=>h(!0),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete album",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),0===L.length?(0,r.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl border border-dashed border-slate-300",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No photos yet"}),(0,r.jsx)("p",{className:"text-slate-600 mb-4",children:"Add photos to start building your album."}),(0,r.jsx)(o(),{href:"/albums/".concat(n,"/upload"),className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors",children:"Upload Photos"})]}):(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:L.map((e,t)=>(0,r.jsxs)("div",{onClick:()=>P(t),className:"group relative aspect-square bg-slate-100 rounded-lg overflow-hidden cursor-pointer",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-12 h-12 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),"ready"!==e.status&&(0,r.jsx)("div",{className:"absolute top-2 left-2",children:(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ".concat("processing"===e.status?"bg-blue-100 text-blue-800":"error"===e.status?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"),children:["processing"===e.status&&(0,r.jsxs)("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-slate-900/0 group-hover:bg-slate-900/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,r.jsx)("button",{className:"p-2 bg-white rounded-full text-slate-900 hover:bg-slate-100 transition-colors",children:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]},e.id))})]}),c&&(0,r.jsx)("div",{className:"fixed inset-0 bg-slate-900/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Delete album?"}),(0,r.jsxs)("p",{className:"text-slate-600 mb-6",children:['This will delete "',k.name,'" and all its photos. This action cannot be undone.']}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 text-slate-700 font-medium hover:text-slate-900",children:"Cancel"}),(0,r.jsx)("button",{onClick:C,disabled:w,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 transition-colors",children:w?"Deleting...":"Delete Album"})]})]})}),(0,r.jsx)(d,{photo:null!==m?L[m]:null,photos:L,onClose:()=>x(null),onNext:()=>{null!==m&&m<L.length-1&&x(m+1)},onPrev:()=>{null!==m&&m>0&&x(m-1)},hasNext:null!==m&&m<L.length-1,hasPrev:null!==m&&m>0})]})}},7076:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=s(5893),l=s(9008),a=s.n(l),n=s(1664),o=s.n(n),i=s(1163),c=s(770);function d(e){var t;let{children:s,title:l="Redrawn"}=e,n=(0,i.useRouter)(),{data:d}=(0,c.FA)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:l})}),(0,r.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,r.jsx)("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)(o(),{href:"/dashboard",className:"flex items-center gap-2",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-slate-900",style:{fontFamily:"'Playfair Display', serif"},children:"Redrawn"})}),(0,r.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:[{href:"/dashboard",label:"Dashboard"},{href:"/albums",label:"Albums"},{href:"/themes",label:"Themes"}].map(e=>{let t=n.pathname.startsWith(e.href);return(0,r.jsx)(o(),{href:e.href,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(t?"bg-slate-100 text-slate-900":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"),children:e.label},e.href)})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 bg-amber-50 rounded-full border border-amber-200",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),(0,r.jsxs)("span",{className:"text-sm font-medium text-amber-900",children:[null!==(t=null==d?void 0:d.balance)&&void 0!==t?t:0," credits"]})]}),(0,r.jsx)(o(),{href:"/settings",className:"p-2 text-slate-500 hover:text-slate-700 rounded-lg hover:bg-slate-100",children:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})})}),(0,r.jsx)("main",{children:s})]})]})}},770:function(e,t,s){"use strict";s.d(t,{FA:function(){return b},HQ:function(){return m},Mw:function(){return a},Ni:function(){return l},QU:function(){return o},RE:function(){return i},V0:function(){return u},Z:function(){return r},pl:function(){return v}});let{useListAlbumsQuery:r,useGetAlbumQuery:l,useCreateAlbumMutation:a,useUpdateAlbumMutation:n,useDeleteAlbumMutation:o,useConfirmAlbumMutation:i,useListAlbumMembersQuery:c,useListPhotosQuery:d,useListAlbumPhotosQuery:u,useGetPhotoQuery:h,useCreatePhotoMutation:m,useUpdatePhotoMutation:x,useDeletePhotoMutation:p,useListThemesQuery:v,useGetThemeQuery:g,useGetCreditBalanceQuery:b,useListCreditTransactionsQuery:j}=s(4810).r.injectEndpoints({endpoints:e=>({listAlbums:e.query({query:()=>"/albums",providesTags:["Album"]}),getAlbum:e.query({query:e=>"/albums/".concat(e),providesTags:(e,t,s)=>[{type:"Album",id:s}]}),createAlbum:e.mutation({query:e=>({url:"/albums",method:"POST",body:e}),invalidatesTags:["Album"]}),updateAlbum:e.mutation({query:e=>{let{id:t,...s}=e;return{url:"/albums/".concat(t),method:"PUT",body:s}},invalidatesTags:(e,t,s)=>{let{id:r}=s;return[{type:"Album",id:r}]}}),deleteAlbum:e.mutation({query:e=>({url:"/albums/".concat(e),method:"DELETE"}),invalidatesTags:["Album"]}),confirmAlbum:e.mutation({query:e=>({url:"/albums/".concat(e,"/confirm"),method:"POST"}),invalidatesTags:(e,t,s)=>[{type:"Album",id:s}]}),listAlbumMembers:e.query({query:e=>"/albums/".concat(e,"/members")}),listPhotos:e.query({query:()=>"/photos",providesTags:["Photo"]}),listAlbumPhotos:e.query({query:e=>"/albums/".concat(e,"/photos"),providesTags:(e,t,s)=>{var r;return(null==e?void 0:null===(r=e.photos)||void 0===r?void 0:r.map(e=>({type:"Photo",id:e.id})))||[{type:"Photo",id:s}]}}),getPhoto:e.query({query:e=>"/photos/".concat(e),providesTags:(e,t,s)=>[{type:"Photo",id:s}]}),createPhoto:e.mutation({query:e=>({url:"/photos",method:"POST",body:e}),invalidatesTags:["Photo"]}),updatePhoto:e.mutation({query:e=>{let{id:t,...s}=e;return{url:"/photos/".concat(t),method:"PUT",body:s}},invalidatesTags:(e,t,s)=>{let{id:r}=s;return[{type:"Photo",id:r}]}}),deletePhoto:e.mutation({query:e=>({url:"/photos/".concat(e),method:"DELETE"}),invalidatesTags:["Photo"]}),listThemes:e.query({query:()=>"/themes",providesTags:["Theme"]}),getTheme:e.query({query:e=>"/themes/".concat(e),providesTags:(e,t,s)=>[{type:"Theme",id:s}]}),getCreditBalance:e.query({query:()=>"/credits/balance"}),listCreditTransactions:e.query({query:e=>{let{limit:t=20,offset:s=0}=e;return"/credits/transactions?limit=".concat(t,"&offset=").concat(s)}})})})},1163:function(e,t,s){e.exports=s(3035)}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=9347)}),_N_E=e.O()}]);